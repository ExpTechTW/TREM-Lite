appId: com.exptech.trem-lite
productName: TREM-Lite
copyright: Copyright Â© 2026 ExpTech Studio

directories:
  output: dist

extraMetadata:
  main: ./src/main.js

compression: maximum
asar: true
asarUnpack:
  - "**/*.mp3"
artifactName: ${productName}-${version}-${os}-${arch}.${ext}

files:
  - "**/*"
  - "!**/*.map"
  - "!**/*.ts"
  - "!**/*.md"
  - "!**/*.txt"
  - "!**/LICENSE*"
  - "!**/CHANGELOG*"
  - "!**/README*"
  - "!**/.eslint*"
  - "!**/.prettier*"
  - "!**/tsconfig.json"
  - "!node_modules/**/test/**"
  - "!node_modules/**/tests/**"
  - "!node_modules/**/__tests__/**"
  - "!node_modules/**/docs/**"
  - "!node_modules/**/doc/**"
  - "!node_modules/**/example/**"
  - "!node_modules/**/examples/**"
  - "!node_modules/**/demo/**"
  - "!node_modules/**/.github/**"
  - "!node_modules/maplibre-gl/dist/*-dev.js"
  - "!node_modules/maplibre-gl/dist/*-dev.js.map"
  - "!node_modules/maplibre-gl/src/**"
  - "!node_modules/@maplibre/maplibre-gl-style-spec/src/**"
  - "!node_modules/moment/src/**"
  - "!node_modules/moment/locale/**"
  - "!node_modules/moment/min/locales.js"
  - "!node_modules/moment/min/locales.min.js"
  - "!node_modules/moment/min/moment-with-locales.js"
  - "!node_modules/moment/min/moment-with-locales.min.js"

afterPack: scripts/afterPack.js

win:
  appId: tw.exptech.trem_lite
  protocols:
    - name: TREM Lite Protocol
      schemes:
        - trem-lite
  target:
    - target: nsis
      arch:
        - x64
        - ia32
  icon: ./src/TREM.ico
  verifyUpdateCodeSignature: false

nsis:
  perMachine: false
  allowToChangeInstallationDirectory: false
  deleteAppDataOnUninstall: false

mac:
  protocols:
    - name: TREM Lite Protocol
      schemes:
        - trem-lite
  category: public.app-category.productivity
  icon: ./src/TREM.png
  hardenedRuntime: true
  target:
    - target: dmg
      arch:
        - x64
        - arm64
    - target: zip
      arch:
        - x64
        - arm64
  gatekeeperAssess: false
  entitlements: assets/entitlements.mac.plist
  entitlementsInherit: assets/entitlements.mac.plist

linux:
  protocols:
    - name: TREM Lite Protocol
      schemes:
        - trem-lite
  category: Development
  icon: ./src/TREM.png
  target:
    - target: AppImage
      arch:
        - x64
        - arm64
