appId: com.exptech.trem-lite
productName: TREM-Lite
copyright: Copyright Â© 2026 ExpTech Studio

directories:
  output: dist

extraMetadata:
  main: ./dist/main.js

files:
  - dist/main.js
  - dist/js/**/*
  - src/view/**/*
  - src/css/**/*
  - package.json
  - node_modules/electron-updater/**/*
  - "!tsconfig*.json"
  - "!*.md"
  - "!package-lock.json"
  - "!dist/builder-*"
  - "!dist/win-unpacked/**/*"

compression: maximum
asar: true
artifactName: ${productName}-${version}-${os}-${arch}.${ext}

afterPack: scripts/afterPack.js

win:
  productName: TREM-Lite
  appId: tw.exptech.trem_lite
  directories:
    output: dist
    buildResources: resources

  extraMetadata:
    main: ./src/main.js

  asar: true
  artifactName: ${productName}-${version}-${os}-${arch}.${ext}

  win:
    protocols:
      - name: TREM Lite Protocol
        schemes:
          - trem-lite
    target:
      - target: nsis
        arch:
          - x64
          - ia32
    icon: ./src/TREM.ico
    publish: null

  mac:
    compression: "maximum"
    protocols:
      - name: TREM Lite Protocol
        schemes:
          - trem-lite
    category: public.app-category.productivity
    icon: ./src/TREM.png
    publish: null
    hardenedRuntime: true
    target:
      - target: dmg
        arch:
          - x64
          - arm64
      - target: zip
        arch:
          - x64
          - arm64
    gatekeeperAssess: false
    entitlements: entitlements.mac.plist
    entitlementsInherit: entitlements.mac.plist

  linux:
    protocols:
      - name: TREM Lite Protocol
        schemes:
          - trem-lite
    category: Development
    icon: ./src/TREM.png
    target:
      - target: deb
        arch:
          - x64
          - arm64
    publish: null
